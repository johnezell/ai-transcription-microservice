# AI Transcription Microservice Infrastructure Configuration
# Copy this file to .env.{environment} (e.g., .env.staging, .env.production)
# DO NOT commit actual .env files to version control

# AWS Account Configuration
AWS_ACCOUNT_ID=
AWS_REGION=us-east-1
AWS_PROFILE=tfs-ai-staging

# Networking Configuration (from main TFS account if using existing VPC)
VPC_ID=
PRIVATE_SUBNET_IDS=subnet-xxxxx,subnet-yyyyy,subnet-zzzzz
PUBLIC_SUBNET_IDS=subnet-aaaaa,subnet-bbbbb,subnet-ccccc
AVAILABILITY_ZONES=us-east-1a,us-east-1b,us-east-1c

# Cross-Account Access (if using shared resources from main account)
MAIN_ACCOUNT_ID=
MAIN_ACCOUNT_ROLE_ARN=
ECR_REPOSITORY_ARNS=

# Domain Configuration
DOMAIN_NAME=thoth.tfs.services  # Use thoth-staging.tfs.services for staging
ROUTE53_ZONE_ID=Z07716653GDXJUDL4P879  # Hosted zone in shared services account
ROUTE53_ZONE_ACCOUNT_ID=542876199144  # Account that owns the Route53 zone
SSL_CERTIFICATE_ARN=

# ECS Configuration
ECS_CLUSTER_NAME=tfs-ai-cluster
ECS_SERVICE_PREFIX=tfs-ai
CONTAINER_INSIGHTS_ENABLED=true

# GPU Instance Configuration
GPU_INSTANCE_TYPE=g4dn.xlarge
GPU_MIN_INSTANCES=0
GPU_MAX_INSTANCES=5
GPU_DESIRED_INSTANCES=1
SPOT_ENABLED=true
SPOT_MAX_PRICE=0.5

# Database Configuration
DB_ENGINE=aurora-mysql
DB_ENGINE_VERSION=8.0.mysql_aurora.3.04.0
DB_INSTANCE_CLASS=db.t3.medium
DB_NAME=ai_transcription
DB_USERNAME=admin
# DB_PASSWORD should be stored in AWS Secrets Manager, not here

# Storage Configuration
EFS_PERFORMANCE_MODE=generalPurpose
EFS_THROUGHPUT_MODE=bursting
S3_BUCKET_PREFIX=tfs-ai-transcription

# Service Scaling Configuration
LARAVEL_MIN_TASKS=1
LARAVEL_MAX_TASKS=10
LARAVEL_MEMORY=2048
LARAVEL_CPU=1024

AUDIO_EXTRACTION_MIN_TASKS=1
AUDIO_EXTRACTION_MAX_TASKS=5
AUDIO_EXTRACTION_MEMORY=2048
AUDIO_EXTRACTION_CPU=1024

TRANSCRIPTION_MIN_TASKS=1
TRANSCRIPTION_MAX_TASKS=10
TRANSCRIPTION_MEMORY=8192
TRANSCRIPTION_CPU=4096

MUSIC_TERM_MIN_TASKS=1
MUSIC_TERM_MAX_TASKS=5
MUSIC_TERM_MEMORY=4096
MUSIC_TERM_CPU=2048

# Queue Configuration
SQS_VISIBILITY_TIMEOUT=3600
SQS_MESSAGE_RETENTION=1209600
DLQ_MAX_RECEIVE_COUNT=3

# Monitoring Configuration
CLOUDWATCH_LOG_RETENTION_DAYS=30
ENABLE_DETAILED_MONITORING=true
ALARM_EMAIL=infrastructure@truefirsstudios.com

# Cost Management
BUDGET_AMOUNT=1000
BUDGET_ALERT_THRESHOLD=80

# Tags
PROJECT=TFS-AI
ENVIRONMENT=staging
OWNER=infrastructure-team
COST_CENTER=ai-services

# Feature Flags
ENABLE_WAF=true
ENABLE_VPC_FLOW_LOGS=true
ENABLE_S3_VERSIONING=true
ENABLE_BACKUP=true
ENABLE_AUTO_SCALING=true

# Third-party Service Keys (store actual values in AWS Secrets Manager)
OPENAI_API_KEY_SECRET_ARN=
STRIPE_SECRET_KEY_ARN=
DIRECTUS_ADMIN_TOKEN_ARN=